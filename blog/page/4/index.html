
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Karol Galanciak - Ruby on Rails and Ember.js consultant</title>
  <meta name="author" content="Karol Galanciak">

  
  <meta name="description" content="Karol Galanciak - Ruby on Rails and Ember.js consultant, building ambitious and high performant web applications.">

  
  <meta name="keywords" content="Ruby on Rails, Ember.js, PostgreSQL, JavaScript, Consulting, MVP, post MVP, legacy apps">

  
  

  <meta property="og:title" value="Karol Galanciak - Ruby on Rails and Ember.js consultant" />
  <meta property="og:description" value="Karol Galanciak - Ruby on Rails and Ember.js consultant, building ambitious and high performant web applications." />
  <meta property="og:url" value="https://karolgalanciak.com/blog/page/4/index.html" />
  <meta property="og:type" content="website" />
  
  <meta property="og:site_name" content="Karol Galanciak - Ruby on Rails and Ember.js consultant"/>
  <meta property="og:locale" content="en_US" />

  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@Azdaroth">
  <meta name="twitter:creator" content="@Azdaroth">
  <meta name="twitter:title" content="Karol Galanciak - Ruby on Rails and Ember.js consultant">
  <meta name="twitter:url" content="">
  <meta name="twitter:description" content="Karol Galanciak - Ruby on Rails and Ember.js consultant, building ambitious and high performant web applications.">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://karolgalanciak.com/blog/page/4">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Karol Galanciak - Ruby on Rails and Ember.js consultant" type="application/atom+xml">
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type":"WebPage",
        "@id": "https://karolgalanciak.com/blog/page/4"
      },
      "headline": "Karol Galanciak - Ruby on Rails and Ember.js consultant",
        "image": {
        "@type": "ImageObject",
        "url": "",
        "height": 640,
        "width": 1024
      },
      "datePublished": "",
      "dateModified": "2018-12-16",
      "author": {
        "@type": "Person",
        "name": "Karol Galanciak"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Karol Galanciak",
        "logo": {
          "@type": "ImageObject",
          "url": "https://karolgalanciak.com/images/me_formal.jpg",
          "width": 600,
          "height": 60
        }
      },
      "description": "Karol Galanciak - Ruby on Rails and Ember.js consultant, building ambitious and high performant web applications.",
      "keywords": "Ruby on Rails, Ember.js, PostgreSQL, JavaScript, Consulting, MVP, post MVP, legacy apps"
    }
  </script>
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-42570582-1', 'auto');
    ga('send', 'pageview');
    ga('set', 'anonymizeIp', true);
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Karol Galanciak - Ruby on Rails and Ember.js consultant</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:karolgalanciak.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">About Me</a></li>
  <li><a href="/blog">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/test-driven-ember">Test-Driven Ember Book</a></li>
  <li><a href="/presentations">Presentations</a></li>
  <li><a href="/publications">Publications</a></li>
  <li><a href="/open-source">Open Source</a></li>
  <li><a href="/privacy-policy">Privacy Policy</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/05/06/when-validation-is-not-enough-postgresql-triggers-for-data-integrity/">When Validation Is Not Enough: PostgreSQL Triggers for Data Integrity</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2016-05-06T19:45:00+02:00" pubdate data-updated="true">May 6<span>th</span>, 2016</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Is <strong>validation</strong> in your models or form objects enough to ensure <strong>integrity of the data</strong>? Well, seems like you can&#8217;t really persist a record when the data is <strong>not valid</strong> unless you intentionally try to bypass validation using <code>save: false</code> option when calling <code>save</code> or using <code>update_column</code>. What about <strong>uniqueness validation</strong>?
A classic example would be a unique <code>email</code> per user. To make sure the email is truly unique we could add a unique index in database - not only would it prevent saving non-unique users when <strong>bypassing validation</strong>, but also it would raise extra error when 2 <strong>concurrent requests</strong> would attempt to save user with the same email. However, some validations are more complex that ensuring  a value is unique and index won&#8217;t really help much. Fortunately, PostgreSQL is powerful enough to provide a perfect solution to such problem. Time to meet your new friend: <strong>PostgreSQL triggers</strong>.</p>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2016/05/06/when-validation-is-not-enough-postgresql-triggers-for-data-integrity/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/04/24/security-on-rails-hacking-sessions-with-insecure-secret-key-base/">Security on Rails: Hacking Sessions With Insecure Secret Key Base</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2016-04-24T20:00:00+02:00" pubdate data-updated="true">Apr 24<span>th</span>, 2016</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was recently asked what is <code>secret key base</code> used for in Rails applications and why not secure value of it (or even worse - the public one!) creates a security issue. That was a really good question, I remember how it was a serious threat years ago, especially before introducing <code>secrets.yml</code> in Rails 4.1 - at that time by default <code>secret_token</code> initializer was generated and the secret key was directly stored there. The result was that in many open source projects secret key was publicly available creating a great <strong>security risk</strong>. Let&#8217;s take a look how exposed secret key base could be exploited.</p>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2016/04/24/security-on-rails-hacking-sessions-with-insecure-secret-key-base/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/20/postgresql-in-action-sorting-with-nullif-expression/">PostgreSQL in Action: Sorting With NULLIF Expression</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2016-02-20T21:20:00+01:00" pubdate data-updated="true">Feb 20<span>th</span>, 2016</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ordering with <strong>ActiveRecord</strong> and <strong>PostgreSQL</strong> may seem like an obvious and simple thing: in most cases you just specify one or several criteria with direction of ordering like <code>order(name: :asc)</code> and that&#8217;s all, maybe in more <b>complex scenarios</b> you would need to use <code>CASE</code> statement to provide some more customized conditions. But how could we approach sorting with forcing <b>blank values</b> to be the last ones, regardless of the direction of the sort? You might be thinking now about <code>NULLS LAST</code> statement for this purpose, but that&#8217;s not going to handle empty string. For this case you need something special: time to meet <code>NULLIF</code> conditional expression.</p>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2016/02/20/postgresql-in-action-sorting-with-nullif-expression/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/07/implementing-non-restful-actions-with-ember-data/">Implementing non-RESTful Actions With Ember Data</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2016-02-07T10:45:00+01:00" pubdate data-updated="true">Feb 7<span>th</span>, 2016</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In my <a target="_blank" href="http://karolgalanciak.com/blog/2016/01/24/how-to-handle-non-crud-logic-in-your-api/">recent post</a> I mentioned some strategies of handling non-strictly <strong>CRUD</strong> / <strong>RESTful</strong> actions in <strong>API</strong>. One of them was adding extra actions beyond creating, updating and deleting resources. As it&#8217;s not a standard solution and some data layers on client side (like <strong>Ember Data</strong>) don&#8217;t handle it out-of-box, I was asked by some developers what&#8217;s the best way to handle such actions. So let&#8217;s see how can we hack into <strong>Ember Data</strong> and make it smooth.</p>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2016/02/07/implementing-non-restful-actions-with-ember-data/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/24/how-to-handle-non-crud-logic-in-your-api/">How to Handle Non-CRUD Logic in Your API</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2016-01-24T22:00:00+01:00" pubdate data-updated="true">Jan 24<span>th</span>, 2016</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you happen to develop <strong>API</strong> for non-trivial app with complex business logic beyond <strong>CRUD</strong> directly mapped to the database tables (i.e. typical Active Record pattern) you were probably wondering many times how to handle these cases and what&#8217;s the best way to do it. There are quite a few solutions to this problem: you could add another endpoint for handling given use case, add <strong>non-RESTful</strong> action to already existing endpoint or you can add a magic param to the payload that would force non-standard scenario in the <strong>API</strong>. Let&#8217;s take a closer look at the these solutions and discuss some advantages and disadvantages of each of them.</p>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2016/01/24/how-to-handle-non-crud-logic-in-your-api/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/06/refactoring-tips-trade-conditionals-for-type-delegation/">Refactoring Tips: Trade Conditionals for Type Delegation</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2016-01-06T23:20:00+01:00" pubdate data-updated="true">Jan 6<span>th</span>, 2016</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Having some kind of <code>type</code> attribute in your models is a pretty common thing, especially in applications with more complex domain. How do you handle such cases? Is it with multiple conditionals / <code>case</code> statements in every method dealing with the type attribute? If you&#8217;ve been struggling with organizing and maintaing code for such use cases then say hello to your new friend: type delegation.</p>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2016/01/06/refactoring-tips-trade-conditionals-for-type-delegation/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/18/ember-and-es7-async-slash-await/">Ember and ES7: Async / Await</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-12-18T09:50:00+01:00" pubdate data-updated="true">Dec 18<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In the <a href="http://karolgalanciak.com/blog/2015/12/02/ember-and-es7-decorators/" target="_blank">previous blog post</a> we were exploring a new wonderful feature coming with ECMAScript 7: decorators. This time we are going to learn about <code>async / await</code>, which is at this moment at Stage 3 in <a href="https://tc39.github.io/process-document/" target="_blank">TC39 process</a>, which means it&#8217;s already a release candidate that passed Proposal and Draft stages. Just like decorators, it&#8217;s already available in <a href="https://babeljs.io">Babel</a>. Let&#8217;s see what kind of benefits does it offer.</p>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/18/ember-and-es7-async-slash-await/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/02/ember-and-es7-decorators/">Ember and ES7: Decorators</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-12-02T23:30:00+01:00" pubdate data-updated="true">Dec 2<span>nd</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ES6 introduced plenty of useful features such as modules, arrow functions, let variables, destructuring, classes and many more which made writing JS code much readable and enjoyable. Thanks to <a href="https://babeljs.io" target="_blank">Babel</a>, a JavaScript transpiler, it&#8217;s been pretty painless to use them all in the applications. If you happen to develop EmberJS apps and use <a href="http://www.ember-cli.com" target="_blank">ember-cli</a>, you don&#8217;t probably think much about Babel or any transpilation as these features are a natural part of every Ember application. But the new features didn&#8217;t end with ES6, we&#8217;re going to have even more of them in ES7 (2016). Some of them can already be used, thanks again to Babel. In this blogpost I&#8217;m going to explore a very powerful concept which of decorators.</p>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/02/ember-and-es7-decorators/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/07/12/embarking-on-programming-journey/">Embarking on Programming Journey</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-07-12T20:00:00+02:00" pubdate data-updated="true">Jul 12<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently I&#8217;ve been repeatedly asked how to get started with programming, especially Ruby and Rails. To keep things DRY and make sure I always include all great resources for learning, I decided to write this blog post. Most of people who asked me had never programmed before or had done some coding before in other languages, but are not (yet) proficient developers, so if you are a total beginner or just started learning Ruby / Rails and you are not sure what the next step is then you came to the right place.</p>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/07/12/embarking-on-programming-journey/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/26/model-your-domain-with-composed-models/">Model Your Domain With Composed Models</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-02-26T09:10:00+01:00" pubdate data-updated="true">Feb 26<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In many Rails applications the modeling is limited only to creating classes inheritng from <code>ActiveRecord::Base</code> which are 1:1 mapped to database tables. Having AR models like <code>User</code> and <code>Project</code> doesn&#8217;t tell much about the domain of your application. Well, you can add some domain logic to the models but that way you will easily end up having giant classes with thousands lines of code, so let&#8217;s just use models for database-related stuff only. Other option would be to create service objects for every usecase. That&#8217;s a good and clean way, but it&#8217;s merely the interaction layer between different parts of your application. You may end up easily with all logic encapsulated within service objects that will start looking more like procedural programming rather than proper OOP and not real domain API at all. The good news is that you can easily counteract it: time to use composed models.</p>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/02/26/model-your-domain-with-composed-models/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/5/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <img class="left" src="/images/me_formal.jpg" title="me:)" alt="Karol Galanciak - photo">
  <p>Hi, my name is Karol Galanciak, I&#8217;m a technical polyglot and domain expert in vacation rental industry, taking it to the next level as CTO of <a href="https://www.bookingsync.com">BookingSync</a></p>

  <p>I specialize in building APIs, enterprise integration using message queues and distributed streaming, microservices architecture and working with legacy applications.</p>

  <p id="email-me"></p>
</section>

<script type="text/javascript">
  (function(d, id, lhs, rhs) {
    d.getElementById(id).innerHTML = "You can reach me at <a rel='nofollow' href='mailto:" + lhs + "@" + rhs + "'>" + lhs + "@" + rhs + "</a>";
  })(window.document, 'email-me', 'karol.galanciak', 'gmail.com');
</script>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/12/16/inheritance-and-define-method-how-to-make-them-work-together/">Inheritance and Define_method - How to Make Them Work Together</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/09/30/the-problems-with-validating-activerecord-models-and-why-state-validation-is-a-bad-idea/">The Problems With Validating ActiveRecord Models and Why State Validation Is a Bad Idea</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/08/19/indexes-on-rails-how-to-make-the-most-of-your-postgres-database/">Indexes on Rails: How to Make the Most of Your Postgres Database</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/07/29/trolling-in-ruby-implementing-javascript-like-maths-with-implicit-conversion-hijacking/">Trolling in Ruby - Implementing JavaScript-like Maths With Implicit Conversion Hijacking</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/06/24/rails-and-conditional-validations-in-models/">Rails and Conditional Validations in Models</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/Azdaroth">@Azdaroth</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'Azdaroth',
            count: 6,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
   <h1>Twitter</h1>
   <a class="twitter-timeline" href="https://twitter.com/Azdaroth" data-widget-id="357234540634329088">Tweets by @Azdaroth</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Karol Galanciak -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'karolgalanciak';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
